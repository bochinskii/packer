-----------------
Packer - что это?
-----------------

Packer - это утилита позволяющая делать образ операционной системы.

Он состоит из "трех китов":

- Builders
- Provisioners
- Post-Processors

Вот документация - https://www.packer.io/docs
Без нее никуда.

Builders несут ответственность за создание машин и создание из них образов для различных платформ.
Например, существуют отдельные компоновщики для EC2, VMware, VirtualBox и т.д.

Provisioners подготавливают систему к использованию:
 - установка пакетов
 - исправление ядра
 - создание пользователей
 - загрузка кода приложения

Post-Processors запускаются после того, как образ собран и сконфигурирован с помощью builders и provisioners.
Post-Processors не являются обязательными, и их можно использовать для загрузки артефактов, переупаковки и т.д.

Если говорить в общем, то с ками бы мы провайдером не работали (VirtualBox, AWS, GCP и т.д.)
принцип действий packer будет примерно одинаков. Создать виртуальную машину с определенными
параметрами с использованием существующего AMI (AWS) или ISO (VirtualBox),
сделать определенные действия (например, установить LEMP), запаковать в новый образ (AMI или ova/box).

Будем использовать VirtualBox т.к. с ним несколько все сложней чем с облачными провайдерами.

После того как разберем создание образов в virtualbox создадим в AWS.
